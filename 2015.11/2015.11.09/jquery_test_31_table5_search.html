
<!--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
jquery_test_31_table5_search.html
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	=>[검색 키워드]를 입력하고 [검색] 버튼 클릭하면 [검색 결과]만 화면에 보여준다.
-->

<html>
  <head>
        <style>.style1 { background-color: #00f; color: #fff; } </style>
		<script src="jquery-1.5.2.min.js" type="text/javascript"></script>

        <script>
			$(document).ready(function() {   
					var rows;
					var colData;
					// class=srhButton 요소를 클릭하면 실행할 코드 설정
					$('.srhButton').click(function(event){
						// table 후손 중 tbody 후손중 tr 을 감추기
						$('table').find('tbody tr').hide();
						//$('table tbody tr').hide();
						// 입력된 검색조건값을 변수에 저장
						var searchData=$('.infobox1').val();
						// 입력된 검색조건값의 길이를 저장					
						var len = searchData.split(" ").join("").length;
						//------------------------------
						// 입력된 검색조건값이 없으면 중지
						if(len==0) { 
							alert("검색 데이터가 없습니다.");
							return; 
						}
						var cnt = 0;
						//------------------------------
						// $('table tbody tr').each(function(){~});
						// tbody 안의 여러 tr에 익명함수 ~를 적용하라

						$('table tbody tr').each(function(){
							// tr 태그의 자식 태그 중 2번째 놈의 문자, 
							// 즉 2번째 td 가 둘러싼 문자를 대문자로 수정해서 변수에 저장
							colData1 = $(this).children().eq(0).text().toUpperCase();
							colData2 = $(this).children().eq(1).text().toUpperCase();
							colData3 = $(this).children().eq(2).text().toUpperCase();
							// 검색조건 문자를 대문자로 바꾸어 변수에 저장
							searchData = searchData.toUpperCase();

							// 검색조건 문자가 td 안에 있으면
							if( colData1.indexOf(searchData)>=0 
								|| colData2.indexOf(searchData)>=0
								|| colData3.indexOf(searchData)>=0 )  {
								// 한 행의 tr 태그 보여라
								$(this).show();
							}
						});
					});
			});
		</script>
  </head>

  <!--
~~~~~~~~~~~~~~~~~~~~~~~~~
jquery_test_31_table5_search.html
~~~~~~~~~~~~~~~~~~~~~~~~~
	=>[검색 키워드]를 입력하고 [검색] 버튼 클릭하면 [검색 결과]만 화면에 보여준다.
-->
<body><center>

	이름검색 : <input type="text"  class="infobox1">
				<!-- &nbsp; and &nbsp; -->
				

			  <!--   <select class="orAnd">
				<option value="or">or
				<option value="and">and
			   </select> 

	           <input type="text"  class="infobox2">&nbsp;&nbsp; -->


	<input type="button" value="검색" class="srhButton" >
	<input class="allSrh" type="button" value="모두검색" 
		onclick="$('table').find('tbody tr').show(); $('.infobox1').val('');"><br><br>

	<table border="1" cellpadding=5>
		<thead>
			<tr><th>번호<th>이름<th>평균
		</thead>
		<tbody>
			<tr><td>101<td>Johnx<td>87
			<tr><td>102<td>Naman<td>90
			<tr><td>103<td>Chirag<td>85
			<tr><td>104<td>David<td>92
			<tr><td>105<td>Kelly<td>81
			<tr><td>106<td>Charles<td>77
			<tr><td>107<td>Jerry<td>91
			<tr><td>108<td>Beth<td>87
			<tr><td>109<td>Caroline<td>82
			<tr><td>110<td>Hanen<td>71
			<tr><td>111<td>Douglas<td>57
			<tr><td>112<td>Tim<td>86
			<tr><td>113<td>Michael<td>68
			<tr><td>114<td>Kimbley<td>88
			<tr><td>115<td>Christinax<td>72
			<tr><td>116<td>권<td>72
		</tbody>
	</table>
</body>


<!-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~
<문>검색조건으로 성적도 검색해서 보이게 하려면?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

	$('table tbody tr').each(function(){
		colData1 = $(this).children().eq(1).text().toUpperCase();
		colData2 = $(this).children().eq(2).text();

		searchData = searchData.toUpperCase();

		if( colData1.indexOf(searchData)>=0 || 
					colData2.indexOf(searchData)>=0)  {
			//cnt++;
			$(this).show();
		}
	});

-->









<!-- 

			/*$(document).ready(function() {   
					var rows;
					var colData;

					$('.srhButton').click(function(event){
						var arr = $('table').find('tbody tr').get();
						$('table tbody').empty( );
						var searchData=$('.infobox1').val();
						var len=searchData.length;
						//------------------------------
						if(len==0) { return; }
						//------------------------------
						$('table tbody tr').map(arr,function(idx, value){
							colData = $(this).children().eq(1).text().toUpperCase();
							searchData = searchData.toUpperCase();

							if( colData.indexOf(searchData)>=0 )  { 
								value = value.replace(colData, "<b>"+colData+"</b>");
								return true; 
							} 
							else { 
								return false; 
							}
						});
						$('table tbody').append( arr.join("") );
						event.preventDefault();  // submit 버튼의 고유 기능(=전송기능)을 중지하라.
					});

			});*/ -->
